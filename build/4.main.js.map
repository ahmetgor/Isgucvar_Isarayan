{"version":3,"sources":["../../src/pages/aktivite/aktivite.module.ts","../../src/pages/aktivite/aktivite.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAAyC;AACO;AACN;AAa1C;IAAA;IAAiC,CAAC;IAArB,kBAAkB;QAX9B,sFAAQ,CAAC;YACR,YAAY,EAAE;gBACZ,+DAAY;aACb;YACD,OAAO,EAAE;gBACP,sEAAe,CAAC,QAAQ,CAAC,+DAAY,CAAC;aACvC;YACD,OAAO,EAAE;gBACP,+DAAY;aACb;SACF,CAAC;OACW,kBAAkB,CAAG;IAAD,yBAAC;CAAA;AAAH;;;;;;;;;;;;;;;;;;;;;;;;;ACfW;AACkC;AACzB;AACM;AAEL;AACT;AAE3C;;;;;EAKE;AAMF;IAcE,sBAAmB,OAAsB,EAAS,SAAoB,EACnD,UAAsB,EAAS,OAAgB,EAAS,WAAqB,EAC7E,MAAc;QAFd,YAAO,GAAP,OAAO,CAAe;QAAS,cAAS,GAAT,SAAS,CAAW;QACnD,eAAU,GAAV,UAAU,CAAY;QAAS,YAAO,GAAP,OAAO,CAAS;QAAS,gBAAW,GAAX,WAAW,CAAU;QAC7E,WAAM,GAAN,MAAM,CAAQ;QAdjC,aAAQ,GAAW,YAAY,CAAC;QAKhC,SAAI,GAAW,CAAC,CAAC;QACjB,UAAK,GAAW,EAAE,CAAC;QACnB,iBAAY,GAAY,IAAI,CAAC;QAC7B,gBAAW,GAAY,IAAI,CAAC;QAC5B,QAAG,GAAW,CAAC,CAAC;QAChB,SAAI,GAAW,EAAE,CAAC;IAMN,CAAC;IACb,qBAAqB;IACrB,IAAI;IAEJ,qCAAc,GAAd;QAAA,iBA2BC;QA1BC,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,WAAW,CAAC,WAAW,CAAC,CAAC,CAAC;YACpC,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC,IAAI,CAAC,UAAC,GAAG;gBAC9C,OAAO,CAAC,GAAG,CAAC,oBAAoB,CAAC,CAAC;gBAClC,KAAI,CAAC,cAAc,EAAE,CAAC;gBACtB,KAAI,CAAC,iBAAiB,EAAE,CAAC;gBACzB,KAAI,CAAC,WAAW,GAAG,KAAI,CAAC,UAAU,CAAC,WAAW,CAAC;gBAC/C,KAAI,CAAC,cAAc,GAAG,KAAI,CAAC,UAAU,CAAC,cAAc,CAAC;YACvD,CAAC,EAAE,UAAC,GAAG;gBACL,OAAO,CAAC,GAAG,CAAC,0BAA0B,CAAC,CAAC;gBACxC,KAAI,CAAC,OAAO,CAAC,OAAO,CAAC,+DAAS,CAAC,CAAC;YAClC,CAAC,CAAC,CAAC;QACL,CAAC;QACD,IAAI,EAAC;YACH,OAAO,CAAC,GAAG,CAAC,+BAA+B,CAAC,CAAC;YAC7C,IAAI,CAAC,cAAc,EAAE,CAAC;YACtB,IAAI,CAAC,iBAAiB,EAAE,CAAC;YACzB,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,UAAU,CAAC,WAAW,CAAC;YAC/C,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,UAAU,CAAC,cAAc,CAAC;QACvD,CAAC;QAED,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,eAAe,EAAE;YACrC,KAAI,CAAC,iBAAiB,EAAE,CAAC;QAC7B,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,eAAe,EAAE;YACrC,KAAI,CAAC,cAAc,EAAE,CAAC;QACxB,CAAC,CAAC,CAAC;IACD,CAAC;IAED,qCAAc,GAAd;QAAA,iBASC;QARC,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;QACzB,IAAI,CAAC,IAAI,GAAG,CAAC,CAAC;QACd,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,KAAK,CAAC;aACnD,IAAI,CAAC,oBAAU;YACd,KAAI,CAAC,UAAU,GAAG,UAAU,CAAC;YAC7B,2CAA2C;QAC7C,CAAC,CAAC;aACD,KAAK,CAAC,UAAC,GAAG,IAAM,CAAC,CAAC,CAAC;IACtB,CAAC;IAED,wCAAiB,GAAjB;QAAA,iBAQC;QAPC,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;QACxB,IAAI,CAAC,GAAG,GAAG,CAAC,CAAC;QACb,IAAI,CAAC,UAAU,CAAC,gBAAgB,CAAC,IAAI,CAAC,GAAG,EAAE,IAAI,CAAC,IAAI,CAAC;aACpD,IAAI,CAAC,uBAAa;YACjB,KAAI,CAAC,aAAa,GAAG,aAAa,CAAC;QACrC,CAAC,CAAC;aACD,KAAK,CAAC,UAAC,GAAG,IAAM,CAAC,CAAC,CAAC;IACtB,CAAC;IAED,iCAAU,GAAV,UAAW,EAAE,EAAE,IAAI;QACjB,iEAAiE;QACjE,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,GAAC,MAAM,CAAC,CAAC;QACzC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,WAAW,EAAE;YAC7B,MAAM,EAAE,IAAI,CAAC,GAAG;YAChB,WAAW,EAAE,IAAI,CAAC,UAAU,CAAC,WAAW;YACxC,cAAc,EAAE,IAAI,CAAC,UAAU,CAAC,cAAc;SAC/C,CAAC,CAAC;IACL,CAAC;IAED,iCAAU,GAAV,UAAW,cAAc;QAAzB,iBAuBD;QAtBC,OAAO,CAAC,GAAG,CAAC,uBAAuB,CAAC,CAAC;QAErC,UAAU,CAAC;YACT,KAAI,CAAC,IAAI,GAAG,KAAI,CAAC,IAAI,GAAG,CAAC,CAAC;YAC1B,KAAI,CAAC,UAAU,CAAC,aAAa,CAAC,KAAI,CAAC,IAAI,EAAE,KAAI,CAAC,KAAK,CAAC;iBACnD,IAAI,CAAC,oBAAU;gBACd,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,GAAC,aAAa,CAAC,CAAC;gBAEtD,EAAE,EAAC,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,MAAM,GAAG,KAAI,CAAC,KAAK,CAAC,CAAC,CAAC;oBAC/C,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;oBACpB,gCAAgC;oBAChC,KAAI,CAAC,YAAY,GAAG,KAAK,CAAC;gBAC1B,CAAC;gBAED,GAAG,EAAE,IAAI,GAAG,IAAI,UAAW,CAAC,CAAC,CAAC;oBAChC,KAAI,CAAC,UAAU,CAAC,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC,CAAC;gBACxC,CAAC;YACA,CAAC,CAAC;iBACD,KAAK,CAAC,UAAC,GAAG,IAAM,CAAC,CAAC,CAAC;YACrB,OAAO,CAAC,GAAG,CAAC,2BAA2B,CAAC,CAAC;YACzC,cAAc,CAAC,QAAQ,EAAE,CAAC;QAC5B,CAAC,EAAE,GAAG,CAAC,CAAC;IACV,CAAC;IAED,gCAAS,GAAT,UAAU,cAAc;QAAxB,iBAuBC;QAtBD,OAAO,CAAC,GAAG,CAAC,uBAAuB,CAAC,CAAC;QAErC,UAAU,CAAC;YACT,KAAI,CAAC,GAAG,GAAG,KAAI,CAAC,GAAG,GAAG,CAAC,CAAC;YACxB,KAAI,CAAC,UAAU,CAAC,gBAAgB,CAAC,KAAI,CAAC,GAAG,EAAE,KAAI,CAAC,IAAI,CAAC;iBACpD,IAAI,CAAC,uBAAa;gBACjB,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,SAAS,CAAC,aAAa,CAAC,GAAC,aAAa,CAAC,CAAC;gBAEzD,EAAE,EAAC,MAAM,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC,MAAM,GAAG,KAAI,CAAC,IAAI,CAAC,CAAC,CAAC;oBACjD,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;oBACpB,gCAAgC;oBAChC,KAAI,CAAC,WAAW,GAAG,KAAK,CAAC;gBACzB,CAAC;gBAED,GAAG,EAAE,IAAI,GAAG,IAAI,aAAc,CAAC,CAAC,CAAC;oBACnC,KAAI,CAAC,aAAa,CAAC,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC,CAAC;gBAC9C,CAAC;YACA,CAAC,CAAC;iBACD,KAAK,CAAC,UAAC,GAAG,IAAM,CAAC,CAAC,CAAC;YACrB,OAAO,CAAC,GAAG,CAAC,2BAA2B,CAAC,CAAC;YACzC,cAAc,CAAC,QAAQ,EAAE,CAAC;QAC5B,CAAC,EAAE,GAAG,CAAC,CAAC;IACR,CAAC;IAEC,mCAAY,GAAZ,UAAa,MAAM;QACjB,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC,YAAY,CAAC,MAAM,CAAC,CAAC;IAE9C,CAAC;IAED,kCAAW,GAAX,UAAY,MAAM;QAChB,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC,eAAe,CAAC,MAAM,CAAC,CAAC;IAEjD,CAAC;IAED,8BAAO,GAAP,UAAQ,EAAE;QACR,IAAI,IAAI,GAAI,IAAI,CAAC,KAAK,CAAC,CAAE,CAAC,IAAI,IAAI,EAAE,CAAC,CAAC,OAAO,EAAE,GAAG,CAAC,IAAI,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC,OAAO,EAAE,CAAE,GAAG,QAAQ,CAAC,CAAC;QACzF,MAAM,CAAC,IAAI,CAAC;IACd,CAAC;IAjJU,YAAY;QALxB,uFAAS,EAAE;QACX,wFAAS,CAAC;YACT,QAAQ,EAAE,eAAe;WACG;SAC7B,CAAC;oOAe4B,CAA0C;YACvC,+DAAiE;YACrE,MAAM;OAhBtB,YAAY,CAmJxB;IAAD,CAAC;AAAA;SAnJY,YAAY,e","file":"4.main.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { AktivitePage } from './aktivite';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    AktivitePage,\r\n  ],\r\n  imports: [\r\n    IonicPageModule.forChild(AktivitePage),\r\n  ],\r\n  exports: [\r\n    AktivitePage\r\n  ]\r\n})\r\nexport class AktivitePageModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/aktivite/aktivite.module.ts","import { Component } from '@angular/core';\r\nimport { NavController, NavParams, IonicPage, Events } from 'ionic-angular';\r\nimport { IlanSer } from '../../providers/ilan-ser';\r\nimport { BasvuruSer } from '../../providers/basvuru-ser';\r\nimport { DetayPage } from '../detay/detay';\r\nimport { UserAuth} from '../../providers/user-auth';\r\nimport { LoginPage } from '../login/login';\r\n\r\n/*\r\n  Generated class for the Aktivite page.\r\n\r\n  See http://ionicframework.com/docs/v2/components/#navigation for more info on\r\n  Ionic pages and navigation.\r\n*/\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-aktivite',\r\n  templateUrl: 'aktivite.html'\r\n})\r\nexport class AktivitePage {\r\n\r\n  aktivite: string = 'basvurulan';\r\n  basvuruList: any;\r\n  kaydedilenList: any;\r\n  basvurular: any;\r\n  kaydedilenler: any;\r\n  skip: number = 0;\r\n  limit: number = 10;\r\n  scrollEnable: boolean = true;\r\n  scrollEnabl: boolean = true;\r\n  ski: number = 0;\r\n  limi: number = 10;\r\n\r\n  constructor(public navCtrl: NavController, public navParams: NavParams,\r\n              public basvuruSer: BasvuruSer, public ilanSer: IlanSer, public authService: UserAuth,\r\n              public events: Events) {\r\n\r\n              }\r\n  // ionViewDidLoad() {\r\n  // }\r\n\r\n  ionViewDidLoad() {\r\n    if (!this.authService.currentUser) {\r\n    this.authService.checkAuthentication().then((res) => {\r\n      console.log('aktivite checkauth');\r\n      this.getBasvuruList();\r\n      this.getKaydedilenList();\r\n      this.basvuruList = this.basvuruSer.basvuruList;\r\n      this.kaydedilenList = this.basvuruSer.kaydedilenList;\r\n    }, (err) => {\r\n      console.log('aktivite checkauth error');\r\n      this.navCtrl.setRoot(LoginPage);\r\n    });\r\n  }\r\n  else{\r\n    console.log('ionViewWillEnter AktivitePage');\r\n    this.getBasvuruList();\r\n    this.getKaydedilenList();\r\n    this.basvuruList = this.basvuruSer.basvuruList;\r\n    this.kaydedilenList = this.basvuruSer.kaydedilenList;\r\n  }\r\n\r\n  this.events.subscribe('kaydet:update', ()=> {\r\n    this.getKaydedilenList();\r\n});\r\nthis.events.subscribe('basvur:update', ()=> {\r\n  this.getBasvuruList();\r\n});\r\n  }\r\n\r\n  getBasvuruList() {\r\n    this.scrollEnable = true;\r\n    this.skip = 0;\r\n    this.basvuruSer.getBasvurular(this.skip, this.limit)\r\n    .then(basvurular => {\r\n      this.basvurular = basvurular;\r\n      // console.log(JSON.stringify(basvurular));\r\n    })\r\n    .catch((err) => {});\r\n  }\r\n\r\n  getKaydedilenList() {\r\n    this.scrollEnabl = true;\r\n    this.ski = 0;\r\n    this.basvuruSer.getKaydedilenler(this.ski, this.limi)\r\n    .then(kaydedilenler => {\r\n      this.kaydedilenler = kaydedilenler;\r\n    })\r\n    .catch((err) => {});\r\n  }\r\n\r\n  itemTapped(ev, ilan) {\r\n    // console.log(JSON.stringify(this.basvuruList)+'sonuc basvuru');\r\n    console.log(JSON.stringify(ilan)+'ilan');\r\n    this.navCtrl.push('DetayPage', {\r\n      ilanId: ilan._id,\r\n      basvurulist: this.basvuruSer.basvuruList,\r\n      kaydedilenlist: this.basvuruSer.kaydedilenList\r\n    });\r\n  }\r\n\r\n  doInfinite(infiniteScroll) {\r\n  console.log('Begin async operation');\r\n\r\n  setTimeout(() => {\r\n    this.skip = this.skip + 1;\r\n    this.basvuruSer.getBasvurular(this.skip, this.limit)\r\n    .then(basvurular => {\r\n      console.log(JSON.stringify(basvurular)+\"basvuruList\");\r\n\r\n      if(Object.keys(basvurular).length < this.limit) {\r\n        console.log('true');\r\n        // infiniteScroll.enable(false);\r\n        this.scrollEnable = false;\r\n        }\r\n\r\n        for( var key in basvurular ) {\r\n      this.basvurular.push(basvurular[key]);\r\n    }\r\n     })\r\n     .catch((err) => {});\r\n    console.log('Async operation has ended');\r\n    infiniteScroll.complete();\r\n  }, 500);\r\n}\r\n\r\ndoInfinit(infiniteScroll) {\r\nconsole.log('Begin async operation');\r\n\r\nsetTimeout(() => {\r\n  this.ski = this.ski + 1;\r\n  this.basvuruSer.getKaydedilenler(this.ski, this.limi)\r\n  .then(kaydedilenler => {\r\n    console.log(JSON.stringify(kaydedilenler)+\"basvuruList\");\r\n\r\n    if(Object.keys(kaydedilenler).length < this.limi) {\r\n      console.log('true');\r\n      // infiniteScroll.enable(false);\r\n      this.scrollEnabl = false;\r\n      }\r\n\r\n      for( var key in kaydedilenler ) {\r\n    this.kaydedilenler.push(kaydedilenler[key]);\r\n  }\r\n   })\r\n   .catch((err) => {});\r\n  console.log('Async operation has ended');\r\n  infiniteScroll.complete();\r\n}, 500);\r\n}\r\n\r\n  checkBasvuru(ilanId) {\r\n    return this.basvuruSer.checkBasvuru(ilanId);\r\n\r\n  }\r\n\r\n  checkKaydet(ilanId) {\r\n    return this.basvuruSer.checkKaydedilen(ilanId);\r\n\r\n  }\r\n\r\n  getDays(d1) {\r\n    let diff =  Math.floor(( (new Date()).getTime() - (new Date(d1)).getTime() ) / 86400000);\r\n    return diff;\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/aktivite/aktivite.ts"],"sourceRoot":""}